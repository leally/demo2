<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <link type="text/css" rel="stylesheet" href="../dist/css/squirrel.min.css" />
    <link type="text/css" rel="stylesheet" href="css/example.css" />
    <link type="text/css" rel="stylesheet" href="css/example-theme.css" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=3" />
    <title>Squirrel Loadmore</title>
</head>
<body>
<article class="wrapper">
    <header class="sq-bar nav">
        <a class="sq-btn sq-icon icon-chevron-left x2 J_goBack" href="index.html"></a>
        <h1 class="title">Loadmore</h1>
        <aside class="sq-dropdown J_menu">
            <div class="sq-btn sq-icon icon-bars x2"></div>
            <ul class="dropdown-content align-right">
                <li><a href="#m1"></a></li>
                <li><a href="#m2"></a></li>
                <li><a href="#m3"></a></li>
            </ul>
        </aside>
    </header>
    <section class="example">
        <h2 class="example-title mb--1">Loadmore</h2>
        <ul class="sq-list media J_loadmore">
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
            <li class="list-item v-middle">
                <a class="icon" href="#icon"><img src="images/sq-icon.png" /></a>
                <div class="desc">
                    <h4 class="tit">左图右文</h4>
                    <p class="digest">知识总是从爱好开始，犹如光总是从火开始一样。</p>
                </div>
            </li>
        </ul>
    </section>
</article>
<a href="#" class="go-top-btn J_fixedGoTop">Top</a>
<script type="text/javascript" src="../dist/js/jquery.min.js"></script>
<script type="text/javascript" src="../dist/js/squirrel.min.js"></script>
<script type="text/javascript" src="js/example.js"></script>
<script>
    $('.J_loadmore').loadmore({
        API: 'data/loadmore/:page/list.json',
        RESTFUL: true,
        EVE_EVENT_TYPE: 'click',
        //EVE_EVENT_TYPE: 'scroll',
        //NUM_SCROLL_MAX_PAGE: 3,
        XHR_TIMEOUT: 10000,
        TXT_NOMORE_TIP: '加载完毕，没有更多啦',
        TXT_INIT_TIP: '点击加载更多',
        //LOCAL_DATA: true,
        loaded: function (data, $element, index) {
            var listData = data.data
            var i = 0;
            var len = listData.length;
            var list = '';
            
            for (; i < len; i++) {
                var item = listData[i];
                list += '<li class="list-item v-middle">'+
                            '<a class="icon" href="#icon"><img src="'+ item.icon +'" /></a>'+
                            '<div class="desc">'+
                                '<h4 class="tit">'+ item.title +'</h4>'+
                                '<p class="digest">'+ item.desc +'</p>'+
                            '</div>'+
                        '</li>';
            }
            $element.append(list);
        }
    });
</script>
</body>
</html>
